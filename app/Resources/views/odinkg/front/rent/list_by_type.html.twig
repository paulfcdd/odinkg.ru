{% extends '::base.html.twig' %}

{% block content %}

    <div class="page-title-wrapper">
        <div class="page-title-bg" style="background-image: url('{{ asset('assets/images/'~app.request.get('type')~'.jpg') }}');"></div>
        <div class="container">
            <div class="row">
                <div class="col-md-8 col-md-offset-2">
                    <div class="page-title-inner">
                        <div class="page-title-content">
                            {% set type = 'object.by_type.'~ app.request.get('type') %}
                            <h2>{{ type | trans }}</h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- /.page-titel-wrapper -->

    <section class="services-listing page-content">
        <div class="container">
            <div class="row">

                <div class="col-md-3">
                    <div class="sidebar">
                        <div class="services-widget widget">
                            <h3 class="widget-title">Категории объектов</h3>
                            <ul>
                                <li><a href="{{ path('rent.sort_by_type', {'type': 'house'}) }}">Дома/коттеджи</a></li>
                                <li><a href="{{ path('rent.sort_by_type', {'type': 'plot'}) }}">Участки</a></li>
                            </ul>
                        </div> <!-- /.widget -->
                        <div class="contact-widget widget">
                            <h3 class="widget-title">Contact Info</h3>
                            <div class="contact-info">
                                <p><i class="fa fa-location-arrow"></i>2561 Round Table Drive Cincinnati, OH 45202</p>
                                <p><i class="fa fa-phone"></i><a href="#">513-784-5268</a></p>
                                <p><i class="fa fa-envelope"></i><a href="#">support@esmeth.com</a></p>
                            </div>
                        </div>
                    </div>
                </div> <!-- /.col-md-3  -->

                <div class="col-md-9">
                    <div class="row">
                        {% if objects is not empty %}
                            {% for object in objects %}
                                <div class="col-sm-6">
                                    <article class="image-service wow fadeIn" data-wow-duration="0.7s"
                                             data-wow-delay="0.2s">
                                        <div class="thumb">
                                            <a href="{{ path('sale.single_object', {
                                                'type': app.request.get('type'),
                                                'object': object.id
                                            }) }}">
                                                <img width="700" height="450" src="assets/images/service-1.jpg" alt="">
                                                <span class="overlay">
                        <i class="icon-eye"></i>
                        </span>
                                            </a>
                                        </div>
                                        <div class="service-content">
                                            <h3>
                                                <a href="{{ path('sale.single_object', {
                                                    'type': app.request.get('type'),
                                                    'object': object.id
                                                }) }}">{{ object.title }}</a>
                                            </h3>
                                            <small>Тип: {{ object.getTypeById(object.type) }}</small>
                                            <small class="pull-right">
                                                Статус: {{ object.getSaleStatusById(object.saleStatus) }}</small>

                                            {% if object.objectDescription | length > 120 %}
                                                {% set description = object.objectDescription | slice(0, 120) ~ '...' %}
                                            {% else %}
                                                {% set description = object.objectDescription %}
                                            {% endif %}
                                            <p>{{ description }}</p>
                                        </div>
                                    </article>
                                </div> <!-- /.col-sm-6 -->
                            {% endfor %}
                        {% endif %}

                    </div> <!-- /.row -->
                </div> <!-- /.col-md-9 -->

            </div> <!-- /.row -->
        </div> <!-- /.container -->
    </section> <!-- /.service-listing -->
{% endblock %}